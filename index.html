<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–î—É—Ä–∞–∫ –¥–ª—è –ë–∞–±—É—à–∫–∏</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>

    <div id="big-message" class="hidden">–í–ê–® –•–û–î</div>

    <!-- –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ -->
    <div id="main-menu">
        <h1 class="game-title">üÇ° –î–£–†–ê–ö üÇ°</h1>
        <div class="mode-select">
            <label>–†–µ–∂–∏–º –∏–≥—Ä—ã:</label>
            <select id="game-mode-select">
                <option value="normal">–ü–æ–¥–∫–∏–¥–Ω–æ–π</option>
                <option value="transfer">–ü–µ—Ä–µ–≤–æ–¥–Ω–æ–π</option>
            </select>
        </div>
        <div class="menu-buttons">
            <button class="menu-btn play" onclick="app.startGame()">‚ñ∂ –ò–ì–†–ê–¢–¨</button>
            <button class="menu-btn settings" onclick="app.openSettings()">‚öô –ù–ê–°–¢–†–û–ô–ö–ò</button>
            <button class="menu-btn stats" onclick="app.showStats()">üèÜ –°–ß–Å–¢</button>
            <button class="menu-btn exit" onclick="app.exitGame()">‚úñ –í–´–•–û–î</button>
        </div>
        <p class="version">–í–µ—Ä—Å–∏—è —Å –≤—ã–±–æ—Ä–æ–º –±–æ—Ç–æ–≤</p>
    </div>

    <!-- –ù–ê–°–¢–†–û–ô–ö–ò -->
    <div id="settings-modal" class="modal hidden">
        <div class="modal-content large-modal">
            <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
            
            <div class="setting-block">
                <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–ø–µ—Ä–Ω–∏–∫–æ–≤:</label>
                <div class="toggle-group" id="bot-count-group">
                    <button class="toggle-btn" onclick="app.setBotCount(1)" id="btn-bot-1">1</button>
                    <button class="toggle-btn" onclick="app.setBotCount(2)" id="btn-bot-2">2</button>
                    <button class="toggle-btn active" onclick="app.setBotCount(3)" id="btn-bot-3">3</button>
                </div>
            </div>

            <div class="setting-block">
                <label>–†–µ–∂–∏–º –∏–≥—Ä—ã:</label>
                <div class="toggle-group">
                    <button class="toggle-btn active" onclick="app.setMode('normal')" id="btn-mode-normal">–ü–æ–¥–∫–∏–¥–Ω–æ–π</button>
                    <button class="toggle-btn" onclick="app.setMode('transfer')" id="btn-mode-transfer">–ü–µ—Ä–µ–≤–æ–¥–Ω–æ–π</button>
                </div>
            </div>

            <div class="setting-block">
                <label>–ó–≤—É–∫:</label>
                <button class="toggle-btn wide active" onclick="app.toggleSound()" id="btn-sound">–í–ö–õ–Æ–ß–ï–ù üîä</button>
            </div>

            <button class="menu-btn play" onclick="app.closeSettings()">–ì–û–¢–û–í–û</button>
        </div>
    </div>

    <!-- –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
    <div id="stats-modal" class="modal hidden">
        <div class="modal-content">
            <h2>–°—á—ë—Ç</h2>
            <div class="stat-row"><span>–ü–æ–±–µ–¥:</span><span id="stat-wins" class="green">0</span></div>
            <div class="stat-row"><span>–ü—Ä–æ–∏–≥—Ä—ã—à–µ–π:</span><span id="stat-losses" class="red">0</span></div>
            <button class="menu-btn" onclick="app.closeStats()">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <!-- –ò–ì–†–ê -->
    <div id="game-screen" class="hidden">
        <div class="top-bar">
            <button class="small-btn" onclick="app.toMenu()">–ú–µ–Ω—é</button>
            <div class="deck-info">
                <span>–ö–∞—Ä—Ç: <b id="deck-count">36</b></span>
                <div class="trump-display" id="trump-icon">‚ô†</div>
            </div>
        </div>

        <div class="game-grid">
            <div class="player-zone top" id="p2">
                <div class="name-tag">üë¥ –ñ–µ–Ω—è</div>
                <div class="hand"></div>
            </div>
            <div class="player-zone left" id="p1">
                <div class="name-tag">üë±‚Äç‚ôÄÔ∏è –õ–∏–∑–∞</div>
                <div class="hand vertical"></div>
            </div>
            <div class="table-area">
                <div id="active-table"></div>
            </div>
            <div class="player-zone right" id="p3">
                <div class="name-tag">ü§ì –ö–æ–ª—è</div>
                <div class="hand vertical"></div>
            </div>
        </div>

        <!-- –ù–∏–∑: –ò–≥—Ä–æ–∫ -->
        <div class="player-area">
            <div class="controls-row">
                <div class="btn-group">
                    <button id="pass-btn" class="sec-btn" onclick="game.playerPass()">–ë–ò–¢–û</button>
                    <button id="action-btn" class="main-btn" onclick="game.playerButtonAction()">–ñ–î–ò–¢–ï...</button>
                </div>
            </div>
            <div class="my-cards-scroll">
                <div id="my-hand" class="my-hand-container"></div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>